<style>
 svg {
     /* border: 3px solid #eee; */
     display: block;
     margin: 1em auto;
 }

 .answer-zone {
     display: block;
     width: 100%;
     padding: 2em;
     background-color: green;
 }

 .centered {
     margin-left: auto;
     margin-right: auto;
     display: block;
     top: 0;
     left: 0;
     bottom: 0;
     right: 0;
     background-color: yellow;
 }

 html, body { margin: 0; padding: 0; }

</style>

<div style="margin:0 auto; background-color:red;">
    centered content
</div>

<!-- <h1> TEST 11 {{id}}</h1> -->
<div id="emb-svg">
    {{{svg}}}
</div>

<div class="answer-zone">
    <div class="centered">
        {{#each answers}}
        <button type="button"
                class="btn-lg btn-primary answer"
                style="width:6em;">{{this}}</button>
        {{/each}}
    </div>
</div>

<script type="text/javascript">
 var snap_engine = Snap("svg");
 var svg_object = null;

 function control_answers(conf) {
     var answer = conf.answer;
     $(".answer").on("click", function(){
         btn = $(this);
         var a = btn.text().trim();
         if (a==answer) {
             conf.good();
         } else {
             conf.bad();
         }
     }
     )};

 function show(selector, conf) {
     if (conf == undefined) {
         conf = {factor:1};
     }
     var factor = conf.factor;
     if (factor == undefined) {
         factor=1;
     }

     if (svg_object == null) {
         alert("Wrong value");
         return;
     }

     var objs = svg_object.find(selector).each(function(){
         var fun = conf.show;
         var obj = $(this);
         if (fun != undefined) {
             fun(obj, factor);
         } else {
             obj.css("opacity", factor);
         }
     });
 }

 $(function() {
     // {{answers}}
     svg_object = $("#emb-svg");
     var queeze = "{{queeze}}";
     var answer = "{{answer}}";
     var q = $("#queeze");
     q.text("{{queeze}}");
     var s = q.attr("style");
     s = s.replace("text-align:end;", "text-align:middle;");
     s = s.replace("text-anchor:end;", "text-anchor:middle;");
     q.attr("style", s);

     control_answers({
         answer: answer,
         good: function () {
             show("#good");
             show('#bad', {factor:0});
         },
         bad: function () {
             show(`#bad`);
             show("#good", {factor:0});
         }
     });
 });
</script>
